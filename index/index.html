<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>XMusic ‚Äî –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</title>

    <!-- External styles / scripts preserved so your existing style.css and script.js still work -->
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Small inline critical CSS (lightweight tweaks so index looks reasonable even before style.css loads) -->
    <style>
        :root{--accent:#9147FF}
        html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial}
        /* keep minimal: actual styling in style.css */
    </style>
</head>
<body>
    <!--
        –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π index.html ‚Äî —Ü–µ–ª—å:
        - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ id –∏ –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ script.js,
          —á—Ç–æ–±—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ –Ω–µ –ª–æ–º–∞–ª–∞—Å—å.
        - –î–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏/—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ —Å–µ–º–∞–Ω—Ç–∏–∫—É, —á—Ç–æ–±—ã –¥–∏–∑–∞–π–Ω
          –º–æ–∂–Ω–æ –±—ã–ª–æ —É–ª—É—á—à–∏—Ç—å –≤ style.css (–Ω–æ–≤—ã–µ —Å–µ–∫—Ü–∏–∏, –±–æ–ª—å—à–µ –∫–∞—Ä—Ç–æ—á–µ–∫, –∫–æ–ª–ª–µ–∫—Ü–∏–π).
        - –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ aria-–∞—Ç—Ä–∏–±—É—Ç—ã –∏ —É–ª—É—á—à–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.
    -->

    <!-- VIDEO BACKGROUND (–º–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å/–æ—Ç–∫–ª—é—á–∞—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö) -->
    <div class="video-background-container" id="videoBackgroundContainer" aria-hidden="true">
        <video id="backgroundVideo" loop muted playsinline></video>
        <!-- Decorative overlay for visual depth -->
        <div class="bg-overlay" aria-hidden="true"></div>
    </div>

    <!-- APP LAYOUT: Sidebar + Main -->
    <div class="app-container" role="application" aria-label="XMusic application">

        <!-- SIDEBAR -->
        <aside class="sidebar" role="navigation" aria-label="Main sidebar">
            <div class="sidebar-top">
                <div class="brand">
                    <div class="logo" id="xmusicLogo" title="XMusic">XMusic</div>
                    <div class="logo-small" id="xcreatorLogo" title="XCreator" style="display:none;">XCreator</div>
                </div>

                <!-- User quick controls (mobile / small screens appear differently via CSS) -->
                <div class="sidebar-controls">
                    <nav class="main-nav" id="xmusicNav" aria-label="Primary">
                        <a href="#" id="navHome" class="nav-link active" role="button" aria-pressed="true">
                            <span class="nav-icon" aria-hidden="true">üè†</span>
                            <span class="nav-text">–ì–ª–∞–≤–Ω–∞—è</span>
                        </a>
                        <a href="#" id="navCategories" class="nav-link" role="button">
                            <span class="nav-icon" aria-hidden="true">üìÇ</span>
                            <span class="nav-text">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</span>
                        </a>
                        <a href="#" id="navFavorites" class="nav-link" style="display:none" role="button">
                            <span class="nav-icon" aria-hidden="true">üíñ</span>
                            <span class="nav-text">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
                        </a>
                        <button class="nav-link" id="creatorStudioBtn" style="display:none" aria-haspopup="true">
                            <span class="nav-icon" aria-hidden="true">üéõÔ∏è</span>
                            <span class="nav-text">Creator Studio</span>
                        </button>
                        <button class="nav-link" id="settingsBtn" aria-haspopup="true">
                            <span class="nav-icon" aria-hidden="true">‚öôÔ∏è</span>
                            <span class="nav-text">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                        </button>
                    </nav>

                    <!-- Creator navigation (hidden by default) -->
                    <nav class="main-nav" id="xcreatorNav" style="display:none" aria-label="Creator navigation">
                        <a class="go-back-btn" id="backToXMusicBtn" role="button" aria-label="Back to XMusic">‚Üê –ù–∞–∑–∞–¥ –≤ XMusic</a>
                        <a class="creator-nav-btn" id="creatorHomeBtn" style="display:none">–ì–ª–∞–≤–Ω–∞—è</a>
                        <a class="creator-nav-btn" id="myTracksBtn" style="display:none">–ú–æ–∏ —Ç—Ä–µ–∫–∏</a>
                        <a class="creator-nav-btn" id="analyticsBtn" style="display:none">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a>
                        <!-- Admin specific -->
                        <a class="creator-nav-btn admin-section" id="adminApplicationsBtn" style="display:none">–ó–∞—è–≤–∫–∏ –≤ Creator</a>
                        <a class="creator-nav-btn admin-section" id="adminUsersBtn" style="display:none">–ê–∫–∫–∞—É–Ω—Ç—ã</a>
                        <a class="creator-nav-btn admin-section" id="adminModerationBtn" style="display:none">–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</a>
                        <a class="creator-nav-btn admin-section" id="adminStatsBtn" style="display:none">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
                        <a class="creator-nav-btn admin-section" id="adminCategoriesBtn" style="display:none">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
                        <a class="creator-nav-btn admin-section" id="adminLogsBtn" style="display:none">–õ–æ–≥–∏</a>
                    </nav>
                </div>
            </div>

            <!-- Footer area: profile / login button -->
            <div class="sidebar-footer">
                <div class="user-profile" id="userProfile" style="display:none" aria-hidden="false">
                    <div class="user-info-container" role="region" aria-label="User information">
                        <div class="user-avatar" id="userAvatar" aria-hidden="false"></div>
                        <div class="user-text">
                            <span id="welcomeMessage" class="welcome-message"></span>
                            <span id="userRole" class="user-role"></span>
                        </div>
                    </div>
                    <div class="user-actions">
                        <button class="logout-btn" id="logoutBtn" style="display:none">–í—ã–π—Ç–∏</button>
                    </div>
                </div>

                <div class="auth-actions" id="authActions">
                    <button class="login-btn" id="loginBtn">–í–æ–π—Ç–∏</button>
                </div>
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="main-content" role="main" aria-live="polite">

            <!-- Header / top controls -->
            <header class="main-header" role="banner">
                <div class="header-left">
                    <h1 id="viewTitle">–ì–ª–∞–≤–Ω–∞—è</h1>
                    <div class="header-subtitle">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ XMusic ‚Äî —Å–ª—É—à–∞–π, —Å–æ–∑–¥–∞–≤–∞–π, –¥–µ–ª–∏—Å—å</div>
                </div>

                <div class="header-controls">
                    <div class="search-bar-wrapper" role="search" aria-label="Search tracks and artists">
                        <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ —Ç—Ä–µ–∫–∞ –∏–ª–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è..." aria-label="–ü–æ–∏—Å–∫">
                    </div>

                    <div class="header-buttons">
                        <button id="openUploadBtn" class="icon-btn" title="–ó–∞–≥—Ä—É–∑–∏—Ç—å" aria-label="Upload">‚¨ÜÔ∏è</button>
                        <button id="openSettingsBtn" class="icon-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏" aria-label="Settings">‚öôÔ∏è</button>
                    </div>
                </div>
            </header>

            <!-- VIEWS: HOME, SEARCH, CATEGORIES, SPECIFIC CATEGORY, FAVORITES, CREATOR -->
            <section id="homeView" class="view active-view" aria-labelledby="viewTitle">

                <!-- XRECOMEN / Now Playing hero -->
                <section class="section xrecomen-section" id="xrecomenSection" aria-label="Recommendation">
                    <div class="xrecomen-left">
                        <div class="xrecomen-card" role="button" id="xrecomenBtn" aria-pressed="false">
                            <div class="xrecomen-meta">
                                <span class="xrecomen-title">Xrecomen</span>
                                <span class="xrecomen-subtitle">–í–æ–∑–º–æ–∂–Ω–æ, –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è</span>
                            </div>
                            <div class="xrecomen-cover">
                                <img id="xrecomenCoverPreview" src="/fon/default.png" alt="Xrecomen cover" onerror="this.src='/fon/default.png'">
                            </div>
                        </div>
                    </div>

                    <div class="xrecomen-right">
                        <p id="nowPlayingText" class="now-playing-text" aria-live="polite"></p>

                        <div class="equalizer" id="equalizer" aria-hidden="true">
                            <!-- 20 bars -->
                            <div class="equalizer-bar"></div><div class="equalizer-bar"></div><div class="equalizer-bar"></div><div class="equalizer-bar"></div><div class="equalizer-bar"></div>
                            <div class="equalizer-bar"></div><div class="equalizer-bar"></div><div class="equalizer-bar"></div><div class="equalizer-bar"></div><div class="equalizer-bar"></div>
                            <div class="equalizer-bar"></div><div class="equalizer-bar"></div><div class="equalizer-bar"></div><div class="equalizer-bar"></div><div class="equalizer-bar"></div>
                            <div class="equalizer-bar"></div><div class="equalizer-bar"></div><div class="equalizer-bar"></div><div class="equalizer-bar"></div><div class="equalizer-bar"></div>
                        </div>

                        <div class="xrecomen-actions">
                            <button id="xrecomenPlay" class="btn-primary">–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏</button>
                            <button id="xrecomenShuffle" class="btn-ghost">–ü–µ—Ä–µ–º–µ—à–∞—Ç—å</button>
                        </div>
                    </div>
                </section>

                <!-- "–í–∞–º –Ω—Ä–∞–≤—è—Ç—Å—è" horizontal scroll -->
                <section class="section" id="youLikeSection">
                    <h2 class="section-title">–í–∞–º –Ω—Ä–∞–≤—è—Ç—Å—è</h2>
                    <div class="scroll-container" id="youLikeGrid" tabindex="0" aria-label="Tracks you might like">
                        <!-- Cards dynamically inserted by script.js -->
                    </div>
                </section>

                <!-- "–õ—É—á—à–µ–µ" carousel / horizontal -->
                <section class="section">
                    <h2 class="section-title">–õ—É—á—à–µ–µ</h2>
                    <div class="scroll-container" id="allGridContainer" aria-label="Top tracks">
                        <!-- Cards dynamically inserted by script.js -->
                    </div>
                </section>

                <!-- "–ö–æ–ª–ª–µ–∫—Ü–∏–∏" -->
                <section class="section" id="collectionsSection">
                    <h2 class="section-title">–ü–æ–¥–±–æ—Ä–∫–∏</h2>
                    <div class="collections-grid" id="favoriteCollectionsGrid" aria-label="Favorite collections">
                        <!-- Example placeholder collection cards (script will replace) -->
                        <div class="collection-card" data-category-id="relax">
                            <h3>Chill Vibes</h3>
                            <p class="small">–õ—ë–≥–∫–∞—è –ø–æ–¥–±–æ—Ä–∫–∞ –¥–ª—è —Ä–µ–ª–∞–∫—Å–∞</p>
                        </div>
                        <div class="collection-card" data-category-id="party">
                            <h3>Party Hits</h3>
                            <p class="small">–¢—Ä–µ–∫–∏ –¥–ª—è –ø–æ–¥–Ω—è—Ç–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è</p>
                        </div>
                        <div class="collection-card" data-category-id="focus">
                            <h3>Focus Beats</h3>
                            <p class="small">–î–ª—è —Ä–∞–±–æ—Ç—ã –∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏</p>
                        </div>
                    </div>
                </section>

                <!-- Additional discovery area with genre chips and mood picker -->
                <section class="section discovery-section" aria-label="Discovery">
                    <div class="discovery-left">
                        <h3 class="subheading">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</h3>
                        <div class="mood-chips" role="list">
                            <button class="mood-chip" data-mood="happy" role="listitem">–í–µ—Å–µ–ª–æ</button>
                            <button class="mood-chip" data-mood="calm" role="listitem">–°–ø–æ–∫–æ–π–Ω–æ</button>
                            <button class="mood-chip" data-mood="energetic" role="listitem">–≠–Ω–µ—Ä–≥–∏—á–Ω–æ</button>
                            <button class="mood-chip" data-mood="romantic" role="listitem">–†–æ–º–∞–Ω—Ç–∏–∫–∞</button>
                            <button class="mood-chip" data-mood="workout" role="listitem">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</button>
                        </div>
                    </div>

                    <div class="discovery-right">
                        <h3 class="subheading">–ñ–∞–Ω—Ä—ã</h3>
                        <div class="genre-grid" id="genreGrid">
                            <!-- genres will be fetched by script.js (/api/genres) and rendered here -->
                            <div class="genre-card" data-genre="–ø–æ–ø">–ü–æ–ø</div>
                            <div class="genre-card" data-genre="—Ä–æ–∫">–†–æ–∫</div>
                            <div class="genre-card" data-genre="—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è</div>
                            <div class="genre-card" data-genre="–¥–∂–∞–∑">–î–∂–∞–∑</div>
                            <div class="genre-card" data-genre="—Ö–∏–ø-—Ö–æ–ø">–•–∏–ø-—Ö–æ–ø</div>
                        </div>
                    </div>
                </section>

                <!-- Long list preview (first page) - useful for lazy loading -->
                <section class="section" id="previewListSection" aria-label="Preview list">
                    <h2 class="section-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ</h2>
                    <div class="grid-list" id="previewList">
                        <!-- script.js will append simplified preview cards for quick browsing -->
                    </div>
                </section>
            </section>

            <!-- SEARCH VIEW -->
            <section id="searchView" class="view" aria-hidden="true">
                <h2 class="section-title" id="searchResultsTitle">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞</h2>
                <div class="grid-container" id="searchResultsGrid" aria-live="polite"></div>
                <div class="search-empty" id="searchEmpty" style="display:none">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>
            </section>

            <!-- CATEGORIES -->
            <section id="categoriesView" class="view" aria-hidden="true">
                <section class="section">
                    <h2 class="section-title">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
                    <div class="grid-container" id="allCategoriesGrid" aria-label="All categories">
                        <div class="category-card" data-category-id="all">
                            <h3>–í—Å–µ —Ç—Ä–µ–∫–∏</h3>
                            <p class="small">–í—Å—è –º–µ–¥–∏–∞—Ç–µ–∫–∞</p>
                        </div>
                    </div>
                </section>

                <section class="section" style="display:none">
                    <h2 class="section-title">–ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
                    <div class="grid-container" id="customCategoriesGrid"></div>
                </section>
            </section>

            <!-- SPECIFIC CATEGORY VIEW -->
            <section id="specificCategoryView" class="view" aria-hidden="true">
                <button class="go-back-btn back-to-categories-btn" id="backToCategoriesBtn" aria-label="Back">‚Üê –ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</button>
                <h2 class="section-title" id="specificCategoryTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
                <div class="grid-container" id="specificCategoryGrid" aria-live="polite"></div>
            </section>

            <!-- FAVORITES -->
            <section id="favoritesView" class="view" aria-hidden="true">
                <h2 class="section-title">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h2>
                <div class="grid-container" id="favoritesGridContainer" aria-live="polite"></div>
            </section>

            <!-- CREATOR HUB -->
            <section id="creatorView" class="view" aria-hidden="true">
                <div id="creatorHomeSection" class="creator-main-section" role="region" aria-label="Creator home">
                    <div class="creator-main-screen">
                        <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ XCreator Studio</h2>
                        <p>–ü—É–±–ª–∏–∫—É–π —Å–≤–æ–∏ —Ç—Ä–µ–∫–∏, —Å–ª–µ–¥–∏ –∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–π —Å –∞—É–¥–∏—Ç–æ—Ä–∏–µ–π.</p>
                        <p>–ß—Ç–æ–±—ã –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ç—Ä–µ–∫–∏ ‚Äî –ø–æ–¥–∞–π –∑–∞—è–≤–∫—É –Ω–∞ Creator.</p>
                        <button class="apply-btn" id="applyBtn">–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É</button>
                    </div>
                </div>

                <div id="myTracksSection" class="creator-main-section" style="display:none">
                    <div class="my-tracks-header">
                        <button class="submit-btn" id="uploadTrackBtn">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç—Ä–µ–∫</button>
                        <div class="my-tracks-filters">
                            <select id="myTracksFilter">
                                <option value="">–í—Å–µ</option>
                                <option value="audio">–ê—É–¥–∏–æ</option>
                                <option value="video">–í–∏–¥–µ–æ</option>
                            </select>
                        </div>
                    </div>
                    <div id="myTracksGrid" class="grid-container"></div>
                </div>

                <div id="analyticsSection" class="creator-main-section" style="display:none">
                    <h2>–í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                    <div class="analytics-container">
                        <div class="analytics-block">
                            <h3>–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–π</h3>
                            <p class="stat-value" id="totalPlays">0</p>
                        </div>
                        <div class="analytics-block">
                            <h3>–ü—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π</h3>
                            <div class="chart-container"><canvas id="analyticsChart"></canvas></div>
                        </div>
                        <div class="analytics-block">
                            <h3>–¢–æ–ø-5</h3>
                            <table class="analytics-table">
                                <thead><tr><th>–¢—Ä–µ–∫</th><th>–ü—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è</th></tr></thead>
                                <tbody id="analyticsTrackTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Admin sections -->
                <div id="adminApplicationsSection" class="creator-main-section" style="display:none">
                    <h2 class="section-title">–ó–∞—è–≤–∫–∏ –≤ Creator</h2>
                    <div id="applicationsList"></div>
                </div>

                <div id="adminUsersSection" class="creator-main-section" style="display:none">
                    <h2 class="section-title">–ê–∫–∫–∞—É–Ω—Ç—ã</h2>
                    <div id="usersList"></div>
                </div>

                <div id="adminModerationSection" class="creator-main-section" style="display:none">
                    <h2 class="section-title">–¢—Ä–µ–∫–∏ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</h2>
                    <div id="moderationTracksList" class="grid-container"></div>
                </div>

                <div id="adminStatsSection" class="creator-main-section" style="display:none">
                    <div class="stats-grid" id="statsContent"></div>
                </div>

                <div id="adminCategoriesSection" class="creator-main-section" style="display:none">
                    <div class="admin-section-header">
                        <h2 class="section-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏</h2>
                        <button class="submit-btn create-category-btn" id="createCategoryBtn">–°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
                    </div>
                    <div class="categories-management-list" id="adminCategoriesList"></div>
                </div>

                <div id="adminLogsSection" class="creator-main-section" style="display:none">
                    <h2 class="section-title">–õ–æ–≥–∏ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª–µ–π</h2>
                    <div class="logs-container">
                        <table class="analytics-table">
                            <thead><tr><th>–ö–æ–≥–¥–∞</th><th>–ö—Ç–æ (–ê–¥–º–∏–Ω)</th><th>–ö–æ–º—É</th><th>IP</th></tr></thead>
                            <tbody id="passwordLogsTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Additional informational footer area (in content) -->
            <footer class="app-footer" aria-label="Application footer">
                <div class="footer-inner">
                    <div class="footer-left">
                        <small>¬© XMusic ‚Äî –≤—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</small>
                    </div>
                    <div class="footer-right">
                        <a href="#" class="footer-link">–ü–æ–º–æ—â—å</a>
                        <a href="#" class="footer-link">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                        <a href="#" class="footer-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                    </div>
                </div>
            </footer>
        </main>
    </div>

    <!-- PLAYER (kept original ids and structure so script.js continues to work) -->
    <div class="player" id="player" role="region" aria-label="Player">
        <div class="player-style-default">
            <div class="player-header">
                <div class="track-info">
                    <img src="default.svg" alt="Track Art" id="playerCover" onerror="this.src='/fon/default.png'">
                    <div>
                        <span class="title" id="playerTitle">–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–¥–∏–∞</span>
                        <span class="artist" id="playerArtist"></span>
                    </div>
                </div>
            </div>

            <div class="control-buttons-and-progress">
                <div class="control-buttons">
                    <button id="repeatBtn" class="control-btn repeat-btn" title="–ü–æ–≤—Ç–æ—Ä">
                        <svg fill="currentColor" viewBox="0 0 24 24"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/></svg>
                    </button>
                    <button id="prevBtn" class="control-btn" title="–ù–∞–∑–∞–¥">
                        <svg fill="currentColor" viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
                    </button>
                    <button class="play-button" id="playPauseBtn" title="–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏">
                        <svg id="playIcon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                        <svg id="pauseIcon" style="display:none" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg>
                    </button>
                    <button id="nextBtn" class="control-btn" title="–í–ø–µ—Ä–µ–¥">
                        <svg fill="currentColor" viewBox="0 0 24 24"><path d="M16 18h2V6h-2zM6 18l8.5-6L6 6z"/></svg>
                    </button>
                    <button id="favoritePlayerBtn" class="control-btn" title="–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ">
                        <svg viewBox="0 0 24 24" class="feather-heart"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
                    </button>
                </div>

                <div class="progress-bar">
                    <span id="currentTime">0:00</span>
                    <div class="progress-bar-container">
                        <div class="progress-track"></div>
                        <div class="progress-filled"></div>
                        <div class="progress-thumb"></div>
                    </div>
                    <span id="duration">0:00</span>
                </div>

                <div class="volume-controls">
                    <svg viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3z"/></svg>
                    <input type="range" id="volumeBar" min="0" max="1" step="0.01" value="1" />
                </div>
            </div>
        </div>

        <div class="player-style-copy" style="display:none">
            <div class="copy-player-body">
                <div class="copy-track-info">
                    <img src="default.svg" alt="Track Art" id="copyPlayerCover" onerror="this.src='/fon/default.png'">
                    <div class="copy-track-text">
                        <span class="title" id="copyPlayerTitle">–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–¥–∏–∞</span>
                        <span class="artist" id="copyPlayerArtist"></span>
                    </div>
                </div>
                <div class="copy-main-controls">
                    <button id="copyPrevBtn" class="control-btn" title="–ù–∞–∑–∞–¥"><svg viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg></button>
                    <button class="play-button" id="copyPlayPauseBtn" title="–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏">
                        <svg id="copyPlayIcon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                        <svg id="copyPauseIcon" style="display:none" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg>
                    </button>
                    <button id="copyNextBtn" class="control-btn" title="–í–ø–µ—Ä–µ–¥"><svg viewBox="0 0 24 24"><path d="M16 18h2V6h-2zM6 18l8.5-6L6 6z"/></svg></button>
                </div>

                <div class="copy-secondary-controls">
                    <button id="copyFavoriteBtn" class="control-btn" title="–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ">
                        <svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
                    </button>
                    <div class="copy-volume-controls">
                        <svg viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3z"/></svg>
                        <input type="range" id="copyVolumeBar" min="0" max="1" step="0.01" value="1">
                    </div>
                </div>
            </div>

            <div class="copy-progress-bar-container">
                <div class="copy-progress-filled"></div>
            </div>
        </div>
    </div>

    <!-- VIDEO MODAL -->
    <div id="videoModal" class="video-modal" style="display:none" aria-hidden="true" role="dialog" aria-modal="true">
        <div class="video-modal-content">
            <button class="close-btn" id="closeVideoBtn" aria-label="Close video">&times;</button>
            <video id="videoPlayerModal" controls playsinline></video>
        </div>
    </div>

    <!-- MODERATION MODAL -->
    <div id="moderationModal" class="moderation-modal" style="display:none" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="close-btn" id="closeModerationBtn" aria-label="Close moderation">&times;</button>
            <h2>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–µ–∫–∞</h2>
            <div class="moderation-info">
                <img id="moderationPlayerCover" src="/fon/default.png" alt="–û–±–ª–æ–∂–∫–∞" onerror="this.src='/fon/default.png'">
                <h3 id="moderationTitle">–ù–∞–∑–≤–∞–Ω–∏–µ</h3>
                <p id="moderationArtist">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:</p>
            </div>
            <audio id="moderationPlayer" controls></audio>
            <video id="moderationVideoPlayer" controls></video>
            <div class="moderation-actions">
                <button class="approve-track-btn" id="moderationApproveBtn">–û–¥–æ–±—Ä–∏—Ç—å</button>
                <button class="reject-track-btn" id="moderationRejectBtn">–û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- UPLOAD MODAL (full original structure preserved) -->
    <div id="uploadModal" class="modal" style="display:none" role="dialog" aria-modal="true">
        <div class="modal-content upload-modal-container">
            <button class="close-btn" title="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
            <h2 class="upload-modal-title">–ó–∞–≥—Ä—É–∑–∏—Ç—å –º–µ–¥–∏–∞</h2>
            <p class="upload-modal-subtitle">–í–∞—à —Ç—Ä–µ–∫ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é.</p>

            <form id="uploadForm" enctype="multipart/form-data">
                <div class="upload-modal-body">
                    <div class="upload-area">
                        <div class="upload-box cover-upload-box" id="coverDropArea">
                            <div class="upload-box-content">
                                <img src="" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –æ–±–ª–æ–∂–∫–∏" class="cover-preview" id="coverPreview" style="display:none">
                                <div class="upload-box-placeholder" id="coverPlaceholder">
                                    <svg class="upload-icon" xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" viewBox="0 0 16 16"><path d="M4.502 9.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0zm3.25 1.75a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/><path d="M10.804 8.443a.5.5 0 0 0 .083.58l.519.519a.5.5 0 0 0 .58.083l3.204-2.204a.5.5 0 0 0 0-.816l-3.204-2.204a.5.5 0 0 0-.58.083l-.519.519a.5.5 0 0 0-.083.58l1.454 1.054-1.454 1.054zm-9.3-1.63a.5.5 0 0 0-.083.58l.519.519a.5.5 0 0 0 .58.083l3.204-2.204a.5.5 0 0 0 0-.816L1.98 4.414a.5.5 0 0 0-.58.083l-.519.519a.5.5 0 0 0-.083.58l1.454 1.054-1.454 1.054z"/></svg>
                                    <p><b>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª –æ–±–ª–æ–∂–∫–∏</b></p>
                                    <p class="small">–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
                                    <span>PNG, JPG. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 1:1</span>
                                </div>
                            </div>
                            <input type="file" id="coverFile" name="coverFile" accept="image/*" required hidden>
                        </div>

                        <div class="upload-box media-upload-box" id="mediaDropArea">
                            <div class="upload-box-content">
                                <div class="upload-box-placeholder" id="mediaPlaceholder">
                                    <svg class="upload-icon" xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" viewBox="0 0 16 16"><path d="M12 13c0 1.105-1.12 2-2.5 2S7 14.105 7 13s1.12-2 2.5-2 2.5.895 2.5 2z"/><path d="M12 3v10h-1V3h1z"/><path d="M11 2.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-1z"/><path d="M2.05 3.54a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h4.15a2.5 2.5 0 0 0 0-1H2.5V4h4.152c.07-.833.37-1.554.77-2.162l-3.67-1.53A.5.5 0 0 0 3.05.854L.5 2.114A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 .5-.5V9.828a2.502 2.502 0 0 0-1-.8V13H1.5V3.54l.55.23z"/></svg>
                                    <p><b>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∞—É–¥–∏–æ –∏–ª–∏ –≤–∏–¥–µ–æ</b></p>
                                    <p class="small">–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
                                    <span id="mediaFileName">–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</span>
                                </div>
                            </div>
                            <input type="file" id="audioFile" name="audioFile" accept="audio/*" hidden>
                            <input type="file" id="videoFile" name="videoFile" accept="video/*" hidden>
                        </div>
                    </div>

                    <div class="upload-form-fields">
                        <div class="upload-type-selector">
                            <label><input type="radio" name="uploadType" value="audio" checked><span>–ê—É–¥–∏–æ</span></label>
                            <label><input type="radio" name="uploadType" value="video"><span>–í–∏–¥–µ–æ</span></label>
                        </div>

                        <div class="form-group"><label for="trackTitle">–ù–∞–∑–≤–∞–Ω–∏–µ</label><input type="text" id="trackTitle" name="title" required></div>

                        <div class="form-group">
                            <label for="categorySelect">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                            <select id="categorySelect" name="categoryId"></select>
                        </div>

                        <div class="form-group">
                            <label class="checkbox-label"><input type="checkbox" id="isForeignArtist"><span>–°—Ç–æ—Ä–æ–Ω–Ω–∏–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</span></label>
                            <div id="artistFields" style="display:none">
                                <label for="foreignArtistName">–ò–º—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</label>
                                <input type="text" id="foreignArtistName" name="artist">
                            </div>
                        </div>

                        <div id="uploadManager">
                            <p id="uploadStatusText">–û–∂–∏–¥–∞–Ω–∏–µ...</p>
                            <div class="upload-status-bar">
                                <div class="upload-progress-fill" style="width:0%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <button type="submit" class="submit-btn" id="uploadSubmitBtn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
            </form>
        </div>
    </div>

    <!-- SETTINGS MODAL -->
    <div id="settingsModal" class="modal" style="display:none" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="close-btn" title="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>

            <div class="form-group">
                <label for="blurToggle">–§–æ–Ω–æ–≤–æ–µ —Ä–∞–∑–º—ã—Ç–∏–µ</label>
                <label class="switch">
                    <input type="checkbox" id="blurToggle" checked>
                    <span class="slider round"></span>
                </label>
            </div>

            <div class="form-group">
                <label for="opacitySlider">–ù–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</label>
                <div class="slider-wrapper">
                    <input type="range" id="opacitySlider" min="0.1" max="1" step="0.05">
                    <span id="opacityValue">50%</span>
                </div>
            </div>

            <div class="form-group">
                <label>–°—Ç–∏–ª—å –ø–ª–µ–µ—Ä–∞</label>
                <div class="player-style-selector">
                    <button class="style-btn active" data-style="default">Default</button>
                    <button class="style-btn" data-style="copy">Copy</button>
                </div>
            </div>

            <button class="logout-btn" id="logoutBtnSettings" style="display:none">–í—ã–π—Ç–∏</button>
        </div>
    </div>

    <!-- LOGIN MODAL -->
    <div id="loginModal" class="modal" style="display:none" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="close-btn" title="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
            <h2>–í—Ö–æ–¥</h2>
            <form id="loginForm">
                <div class="form-group"><label for="loginUsername">–õ–æ–≥–∏–Ω</label><input type="text" id="loginUsername" required></div>
                <div class="form-group"><label for="loginPassword">–ü–∞—Ä–æ–ª—å</label><input type="password" id="loginPassword" required></div>
                <button type="submit" class="submit-btn">–í–æ–π—Ç–∏</button>
                <button type="button" class="link-btn" id="switchToRegister">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</button>
            </form>
        </div>
    </div>

    <!-- REGISTER MODAL -->
    <div id="registerModal" class="modal" style="display:none" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="close-btn" title="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
            <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
            <form id="registerForm">
                <div class="form-group"><label for="registerUsername">–õ–æ–≥–∏–Ω</label><input type="text" id="registerUsername" required></div>
                <div class="form-group"><label for="registerPassword">–ü–∞—Ä–æ–ª—å</label><input type="password" id="registerPassword" required></div>
                <button type="submit" class="submit-btn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                <button type="button" class="link-btn" id="switchToLogin">–ü–µ—Ä–µ–π—Ç–∏ –∫–æ –≤—Ö–æ–¥—É</button>
            </form>
        </div>
    </div>

    <!-- APPLICATION MODAL -->
    <div id="applicationModal" class="modal" style="display:none" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="close-btn" title="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
            <h2>–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –≤ Creator Studio</h2>
            <form id="applicationForm">
                <div class="form-group"><label for="fullName">–ò–º—è –∏ –§–∞–º–∏–ª–∏—è</label><input type="text" id="fullName" name="fullName" required></div>
                <div class="form-group"><label for="phoneNumber">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label><input type="tel" id="phoneNumber" name="phoneNumber" pattern="\+7[0-9]{10}" placeholder="+79998887766" required></div>
                <div class="form-group"><label for="email">–ü–æ—á—Ç–∞</label><input type="email" id="email" name="email" required></div>
                <button type="submit" class="submit-btn">–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É</button>
            </form>
        </div>
    </div>

    <!-- CATEGORY MODAL -->
    <div id="categoryModal" class="modal" style="display:none" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="close-btn" id="closeCategoryModalBtn" title="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
            <h2>–°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h2>
            <form id="categoryForm">
                <input type="hidden" id="categoryId" name="categoryId">
                <div class="form-group">
                    <label for="categoryName">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</label>
                    <input type="text" id="categoryName" required>
                </div>

                <div class="form-group user-input-wrapper">
                    <label for="userSearchInput">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</label>
                    <div class="user-input-container">
                        <input type="text" id="userSearchInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è..." autocomplete="off">
                        <span id="userSearchStatus" aria-hidden="true"></span>
                    </div>
                </div>

                <div id="selectedUsersContainer"></div>
                <button type="submit" class="submit-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </form>
        </div>
    </div>

    <!-- PASSWORD LOGS / ADMIN MODALS might be appended dynamically by script -->

    <!-- SCRIPT -->
    <script src="script.js"></script>

    <!-- Inline small helper to focus search on slash key ‚Äî unobtrusive improvement -->
    <script>
        (function(){
            const searchInput = document.getElementById('searchInput');
            window.addEventListener('keydown', (e) => {
                if (e.key === '/' && document.activeElement !== searchInput) {
                    e.preventDefault();
                    if(searchInput) searchInput.focus();
                }
            });
        })();
    </script>

    <!-- Developer note: end of file -->
</body>
</html>